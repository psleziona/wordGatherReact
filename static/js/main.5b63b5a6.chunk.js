(this.webpackJsonpenglish_learn_front=this.webpackJsonpenglish_learn_front||[]).push([[0],{16:function(t,e,n){},18:function(t,e,n){},24:function(t,e,n){},31:function(t,e,n){},38:function(t,e,n){},39:function(t,e,n){},40:function(t,e,n){},41:function(t,e,n){},42:function(t,e,n){},43:function(t,e,n){"use strict";n.r(e);var s=n(1),a=n.n(s),r=n(25),i=n.n(r),c=n(14),o=n(2),l=n(3),u=n(5),h=n(4),d=n(12),j=n(6),p=(n(31),n(0)),b=function(t){Object(u.a)(n,t);var e=Object(h.a)(n);function n(t){return Object(o.a)(this,n),e.call(this,t)}return Object(l.a)(n,[{key:"render",value:function(){return this.props.isLogged?Object(p.jsx)("nav",{className:"nav",children:Object(p.jsxs)("ul",{className:"nav__links",children:[Object(p.jsx)(d.b,{className:"nav__anchor",to:"/",children:Object(p.jsx)("li",{className:"nav__link",children:"Home"})}),Object(p.jsx)(d.b,{className:"nav__anchor",to:"/quick-round",children:Object(p.jsx)("li",{className:"nav__link",children:"Quick"})}),Object(p.jsx)(d.b,{className:"nav__anchor",to:"/test-multi",children:Object(p.jsx)("li",{className:"nav__link",children:"Multi test"})}),Object(p.jsx)(d.b,{className:"nav__anchor",to:"/user",children:Object(p.jsx)("li",{className:"nav__link",children:this.props.username})})]})}):Object(p.jsx)("nav",{className:"nav",children:Object(p.jsxs)("ul",{className:"nav__links",children:[Object(p.jsx)(d.b,{className:"nav__anchor",to:"/",children:Object(p.jsx)("li",{className:"nav__link",children:"Home"})}),Object(p.jsx)(d.b,{className:"nav__anchor",to:"/login",children:Object(p.jsx)("li",{className:"nav__link",children:"Login"})}),Object(p.jsx)(d.b,{className:"nav__anchor",to:"/register",children:Object(p.jsx)("li",{className:"nav__link",children:"Register"})})]})})}}]),n}(s.Component),O=function(t){Object(u.a)(n,t);var e=Object(h.a)(n);function n(t){return Object(o.a)(this,n),e.call(this,t)}return Object(l.a)(n,[{key:"render",value:function(){return Object(p.jsxs)("div",{children:[Object(p.jsxs)("h2",{children:["Witaj ",this.props.username]}),Object(p.jsx)("p",{children:"W budowie"})]})}}]),n}(s.Component),m=n(15),f=(n(16),function(t){Object(u.a)(n,t);var e=Object(h.a)(n);function n(){return Object(o.a)(this,n),e.call(this)}return Object(l.a)(n,[{key:"render",value:function(){return Object(p.jsxs)("div",{className:"quickround__controls",children:[Object(p.jsx)("button",{className:"quickround__btn quickround__btn--start",disabled:this.props.isStarted,onClick:this.props.toggleStart,children:"Start"}),Object(p.jsx)("button",{className:"quickround__btn quickround__btn--finish",disabled:!this.props.isStarted,onClick:this.props.toggleStart,children:"Finish"})]})}}]),n}(s.Component)),w=n(10),g=function(t){Object(u.a)(n,t);var e=Object(h.a)(n);function n(t){return Object(o.a)(this,n),e.call(this,t)}return Object(l.a)(n,[{key:"render",value:function(){return Object(p.jsx)("ul",{className:"quickround__hints-list",children:this.props.answers.map((function(t,e){return Object(p.jsx)("li",{className:"quickround__hints-item",children:t},e)}))})}}]),n}(s.Component),v=function(t){Object(u.a)(n,t);var e=Object(h.a)(n);function n(t){var s;return Object(o.a)(this,n),(s=e.call(this,t)).handleKeyPress=function(t){if("Enter"==t.key){var e=t.target.value;s.checkAnswer(e)}},s.checkAnswer=function(t){var e={};if(s.props.rightAnswers.includes(t)&&!s.state.showHint)e=Object(w.a)({},s.props.word,!0);else{if(!(s.state.wrongCounter>2))return s.setState({wrongCounter:s.state.wrongCounter+1}),0;e=Object(w.a)({},s.props.word,!1)}s.props.update(e)},s.handleChange=function(t){s.setState({inputValue:t.target.value})},s.handleHint=function(){s.setState({showHint:!0})},s.state={wrongCounter:0,inputValue:"",showHint:!1},s}return Object(l.a)(n,[{key:"componentDidUpdate",value:function(t){t!=this.props&&this.setState({wrongCounter:0,inputValue:"",showHint:!1})}},{key:"render",value:function(){return Object(p.jsxs)("div",{children:[Object(p.jsx)("h3",{className:"quickround__word-title",children:this.props.word}),Object(p.jsx)("label",{htmlFor:"answer",children:Object(p.jsx)("input",{className:"quickround__answer-input",value:this.state.inputValue,onChange:this.handleChange,onKeyPress:this.handleKeyPress,type:"text",name:"answer"})}),Object(p.jsxs)("p",{children:["Wrong answer counter: ",this.state.wrongCounter]}),3==this.state.wrongCounter?Object(p.jsx)("button",{className:"quickround__btn",onClick:this.handleHint,children:"Show answers"}):null,this.state.showHint?Object(p.jsx)(g,{answers:this.props.rightAnswers}):null]})}}]),n}(s.Component),x=function(t){Object(u.a)(n,t);var e=Object(h.a)(n);function n(t){return Object(o.a)(this,n),e.call(this,t)}return Object(l.a)(n,[{key:"render",value:function(){return Object(p.jsxs)("div",{className:"quickround__stats",children:[Object(p.jsxs)("p",{children:["Total: ",this.props.total]}),Object(p.jsxs)("p",{children:["Right: ",this.props.right]})]})}}]),n}(s.Component),_=function(t){Object(u.a)(n,t);var e=Object(h.a)(n);function n(t){var s;return Object(o.a)(this,n),(s=e.call(this,t)).toggleStart=function(){s.state.isStarted&&s.props.updateDb(s.state.answers),s.setState((function(t){return{isStarted:!t.isStarted,answers:[]}}))},s.updateAnswers=function(t){s.setState((function(e){return{answers:[].concat(Object(m.a)(e.answers),[t])}}))},s.state={isStarted:!1,answers:[]},s}return Object(l.a)(n,[{key:"componentWillUnmount",value:function(){this.state.answers.length>0&&this.props.updateDb(this.state.answers)}},{key:"render",value:function(){var t="",e="";if(this.props.words.length>0){var n=this.props.words[Math.floor(Math.random()*this.props.words.length)];t=n.word,e=n.meanings}var s=this.state.answers.length,a=this.state.answers.reduce((function(t,e){return Object.values(e)[0]?t+1:t}),0);return Object(p.jsxs)("div",{className:"quickround__container",children:[Object(p.jsx)(f,{isStarted:this.state.isStarted,toggleStart:this.toggleStart}),this.state.isStarted?Object(p.jsx)(x,{total:s,right:a}):null,this.state.isStarted?Object(p.jsx)(v,{word:t,rightAnswers:e,update:this.updateAnswers}):null]})}}]),n}(s.Component),k=function(t){Object(u.a)(n,t);var e=Object(h.a)(n);function n(){var t;return Object(o.a)(this,n),(t=e.call(this)).getWords=function(){fetch("https://word-gather.herokuapp.com/words",{credentials:"include"}).then((function(t){return t.json()})).then((function(e){t.setState({words:e})}))},t.updateDb=function(t){t.length>0&&fetch("https://word-gather.herokuapp.com/words",{method:"POST",credentials:"include",mode:"cors",body:JSON.stringify(t)})},t.state={words:[]},t}return Object(l.a)(n,[{key:"componentDidMount",value:function(){this.getWords()}},{key:"shouldComponentUpdate",value:function(t,e){return e!=this.state}},{key:"render",value:function(){return Object(p.jsx)(_,{words:this.state.words,updateDb:this.updateDb})}}]),n}(s.Component),y=(n(18),function(t){Object(u.a)(n,t);var e=Object(h.a)(n);function n(t){var s;return Object(o.a)(this,n),(s=e.call(this,t)).handleClick=function(t){var e=s.props.onAnswer(t.target.innerText);console.log(e),e?s.setState((function(t){return{isAnsweredRight:!0}})):s.setState((function(t){return{isAnsweredRight:!1}}))},s.state={isAnsweredRight:null},s}return Object(l.a)(n,[{key:"componentDidUpdate",value:function(t,e){0==t.answerable&&1==this.props.answerable&&this.setState((function(t){return{isAnsweredRight:null}}))}},{key:"render",value:function(){var t=this.props.answerable,e="";return this.state.isAnsweredRight?e="test-container__answer--right":0==this.state.isAnsweredRight&&(e="test-container__answer--wrong"),Object(p.jsx)("li",{className:"test-container__answer ".concat(e),onClick:t?this.handleClick:null,children:this.props.answer})}}]),n}(s.Component)),S=function(t){Object(u.a)(n,t);var e=Object(h.a)(n);function n(t){var s;return Object(o.a)(this,n),(s=e.call(this,t)).handleAnswer=function(t){s.setState((function(t){return{answerable:!1}}));var e=t==s.props.rightAnswer;return s.props.onAnswer(s.props.word,e),e},s.state={answerable:!0},s}return Object(l.a)(n,[{key:"componentDidUpdate",value:function(t){t.rightAnswer!==this.props.rightAnswer&&this.setState((function(t){return{answerable:!0}}))}},{key:"render",value:function(){var t=this;return Object(p.jsxs)("div",{className:"test-container",children:[Object(p.jsx)("h4",{className:"test-container__title",children:this.props.word}),Object(p.jsx)("ul",{className:"test-container__answers",children:this.props.answers.map((function(e,n){return Object(p.jsx)(y,{onAnswer:t.handleAnswer,answer:e,answerable:t.state.answerable},n)}))})]})}}]),n}(s.Component),C=function(t){Object(u.a)(n,t);var e=Object(h.a)(n);function n(t){var s;return Object(o.a)(this,n),(s=e.call(this,t)).gatherData=function(t,e){s.setState((function(n){return{answers:[].concat(Object(m.a)(n.answers),[Object(w.a)({},t,e)])}}))},s.handleClick=function(){var t=[];s.props.tests.forEach((function(e){var n=e.english_word;0==s.state.answers.filter((function(t){return n in t})).length&&t.push(Object(w.a)({},n,!1))})),s.setState((function(e){return{answers:[].concat(Object(m.a)(e.answers),t)}}),s.updateStatus)},s.updateStatus=function(){fetch("https://word-gather.herokuapp.com/words",{method:"POST",body:JSON.stringify(s.state.answers),credentials:"include",mode:"cors"}).then((function(t){200==t.status&&s.props.handleSend()}))},s.state={answers:[]},s}return Object(l.a)(n,[{key:"shouldComponentUpdate",value:function(t){return t.tests!=this.props.tests}},{key:"render",value:function(){var t=this,e=this.props.tests.map((function(e,n){var s=e.english_word,a=e.right_answers,r=e.false_answers,i=a[Math.floor(Math.random()*a.length)],c=[i].concat(Object(m.a)(r));return c=c.sort((function(){return Math.random()-.5})),Object(p.jsx)(S,{word:s,answers:c,rightAnswer:i,onAnswer:t.gatherData},n)}));return Object(p.jsxs)("div",{className:"multitest__container",children:[e,Object(p.jsx)("button",{className:"multitest__btn multitest__btn--finish",onClick:this.handleClick,children:"Finish"})]})}}]),n}(s.Component),N=function(t){Object(u.a)(n,t);var e=Object(h.a)(n);function n(){var t;return Object(o.a)(this,n),(t=e.call(this)).getData=function(e){fetch("https://word-gather.herokuapp.com/test-words/".concat(e),{credentials:"include"}).then((function(t){return t.json()})).then((function(e){t.setState({testArray:e,isDataSend:!1})}))},t.handleClick=function(){t.getData(t.state.countValue)},t.handleChange=function(e){t.setState({countValue:e.target.value})},t.clearDataAfterUpdate=function(){t.setState({testArray:[],isDataSend:!0})},t.state={countValue:"5",testArray:[],isDataSend:!1},t}return Object(l.a)(n,[{key:"render",value:function(){return 0==this.state.testArray.length?Object(p.jsxs)("div",{className:"multitest__container",children:[this.state.isDataSend?Object(p.jsx)("p",{children:"Odpowiedzi wys\u0142ane!"}):null,Object(p.jsx)("p",{children:"Wybierz ilo\u015b\u0107 s\u0142\xf3wek"}),Object(p.jsxs)("select",{className:"multitest__select-count",onChange:this.handleChange,children:[Object(p.jsx)("option",{value:"5",children:"5"}),Object(p.jsx)("option",{value:"10",children:"10"}),Object(p.jsx)("option",{value:"20",children:"20"})]}),Object(p.jsx)("button",{className:"multitest__btn",onClick:this.handleClick,children:"Start"})]}):Object(p.jsx)(C,{tests:this.state.testArray,handleSend:this.clearDataAfterUpdate})}}]),n}(s.Component),A=(n(38),function(t){Object(u.a)(n,t);var e=Object(h.a)(n);function n(t){return Object(o.a)(this,n),e.call(this,t)}return Object(l.a)(n,[{key:"render",value:function(){var t=(100*this.props.progress).toFixed(2);return Object(p.jsxs)("div",{className:"progress-bar",children:[Object(p.jsxs)("p",{className:"progress-text",children:[t," %"]}),Object(p.jsx)("div",{style:{width:"".concat(t,"%")},className:"show-progress"})]})}}]),n}(s.Component)),D=(n(24),function(t){Object(u.a)(n,t);var e=Object(h.a)(n);function n(t){return Object(o.a)(this,n),e.call(this,t)}return Object(l.a)(n,[{key:"render",value:function(){return Object(p.jsxs)("ul",{className:"word-stat__list",children:[Object(p.jsx)("li",{className:"word-stat__item",children:Object(p.jsx)("h3",{className:"word-stat__word",children:this.props.word})}),Object(p.jsxs)("li",{className:"word-stat__item",children:["Showed: ",this.props.counter," times"]}),Object(p.jsx)("li",{className:"word-stat__item",children:Object(p.jsx)("p",{children:"Progress"})}),Object(p.jsx)(A,{progress:this.props.progress})]})}}]),n}(s.Component)),F=function(t){Object(u.a)(n,t);var e=Object(h.a)(n);function n(t){return Object(o.a)(this,n),e.call(this,t)}return Object(l.a)(n,[{key:"componentDidMount",value:function(){this.props.update()}},{key:"render",value:function(){return Object(p.jsxs)("div",{className:"user-page__container",children:[Object(p.jsxs)("p",{children:["Api-key: ",this.props.data.apiKey]}),this.props.data.stats.map((function(t,e){return Object(p.jsx)(D,{word:t.word,counter:t.counter,progress:t.progress},e)}))]})}}]),n}(s.Component),P=(n(39),function(t){Object(u.a)(n,t);var e=Object(h.a)(n);function n(){var t;return Object(o.a)(this,n),(t=e.call(this)).handleSubmit=function(e){e.preventDefault();var n=new FormData;n.append("name",t.state.login),n.append("password",t.state.password),fetch("https://word-gather.herokuapp.com/login",{method:"POST",body:n,credentials:"include"}).then((function(e){200==e.status&&t.props.handleLogin()}))},t.handleInput=function(e){t.setState(Object(w.a)({},e.target.name,e.target.value))},t.loginTester=function(){var e=new FormData;e.append("name","pablo"),e.append("password","a"),fetch("https://word-gather.herokuapp.com/login",{method:"POST",body:e,credentials:"include"}).then((function(e){200==e.status&&t.props.handleLogin()}))},t.state={login:"",password:""},t}return Object(l.a)(n,[{key:"render",value:function(){return Object(p.jsxs)("form",{onSubmit:this.handleSubmit,children:[Object(p.jsxs)("label",{htmlFor:"login",children:["Username",Object(p.jsx)("input",{onChange:this.handleInput,name:"login"})]}),Object(p.jsxs)("label",{htmlFor:"password",children:["Password",Object(p.jsx)("input",{type:"password",onChange:this.handleInput,name:"password"})]}),Object(p.jsx)("label",{htmlFor:"submit",children:Object(p.jsx)("input",{type:"submit",value:"Login"})}),Object(p.jsx)("button",{onClick:this.loginTester,children:"Tester login"})]})}}]),n}(s.Component)),q=(n(40),function(t){Object(u.a)(n,t);var e=Object(h.a)(n);function n(){var t;return Object(o.a)(this,n),(t=e.call(this)).handleInput=function(e){t.setState(Object(w.a)({},e.target.name,e.target.value))},t.validData=function(){var e=t.state,n=(e.username,e.password),s=e.confirmPassword,a=e.email,r=e.confirmEmail;return n==s&&(a==r&&!!a.includes("@"))},t.handleSubmit=function(e){if(e.preventDefault(),t.validData){var n=new FormData;n.append("username",t.state.username),n.append("password",t.state.password),n.append("e-mail",t.state.email),fetch("https://word-gather.herokuapp.com/register",{method:"POST",body:n})}else alert("B\u0142\u0119dnie wype\u0142niony formularz")},t.state={username:"",password:"",confirmPassword:"",email:"",confirmEmail:""},t}return Object(l.a)(n,[{key:"render",value:function(){return Object(p.jsxs)("form",{onSubmit:this.handleSubmit,children:[Object(p.jsxs)("label",{htmlFor:"username",children:["Username",Object(p.jsx)("input",{type:"text",onChange:this.handleInput,name:"username"})]}),Object(p.jsxs)("label",{htmlFor:"password",children:["Password",Object(p.jsx)("input",{type:"password",onChange:this.handleInput,name:"password"})]}),Object(p.jsxs)("label",{htmlFor:"confirmPassword",children:["Confirm password",Object(p.jsx)("input",{type:"password",onChange:this.handleInput,name:"confirmPassword"})]}),Object(p.jsxs)("label",{htmlFor:"email",type:"text",children:["E-mail",Object(p.jsx)("input",{onChange:this.handleInput,name:"email"})]}),Object(p.jsxs)("label",{htmlFor:"confirmEmail",type:"text",children:["Confirm e-mail",Object(p.jsx)("input",{onChange:this.handleInput,name:"confirmEmail"})]}),Object(p.jsx)("label",{htmlFor:"submit",children:Object(p.jsx)("input",{type:"submit",value:"Register"})})]})}}]),n}(s.Component)),L=(n(41),function(t){Object(u.a)(n,t);var e=Object(h.a)(n);function n(){var t;return Object(o.a)(this,n),(t=e.call(this)).getUserData=function(){fetch("https://word-gather.herokuapp.com/user",{credentials:"include",mode:"cors"}).then((function(t){return t.json()})).then((function(e){t.setState({username:e.username,apiKey:e["api-key"],stats:e.stats,isLogged:!0})}))},t.handleLogin=function(){t.setState({isLogged:!0})},t.state={username:"",apiKey:"",stats:[],isLogged:!1},t}return Object(l.a)(n,[{key:"componentDidMount",value:function(){this.getUserData()}},{key:"render",value:function(){var t=this;return Object(p.jsx)(d.a,{basename:"/wordGatherReact",children:Object(p.jsxs)("div",{className:"App",children:[Object(p.jsx)(b,{isLogged:this.state.isLogged,username:this.state.username}),Object(p.jsxs)(j.c,{children:[Object(p.jsx)(j.a,{path:"/",exact:!0,render:function(e){return Object(p.jsx)(O,Object(c.a)(Object(c.a)({},e),{},{username:t.state.username}))}}),Object(p.jsx)(j.a,{path:"/quick-round",component:k}),Object(p.jsx)(j.a,{path:"/test-multi",component:N}),Object(p.jsx)(j.a,{path:"/user",render:function(e){return Object(p.jsx)(F,Object(c.a)(Object(c.a)({},e),{},{data:t.state,update:t.getUserData}))}}),Object(p.jsx)(j.a,{path:"/login",render:function(e){return Object(p.jsx)(P,Object(c.a)(Object(c.a)({},e),{},{handleLogin:t.handleLogin}))}}),Object(p.jsx)(j.a,{path:"/register",component:q})]})]})})}}]),n}(s.Component));n(42);i.a.render(Object(p.jsx)(a.a.StrictMode,{children:Object(p.jsx)(L,{})}),document.getElementById("root"))}},[[43,1,2]]]);
//# sourceMappingURL=main.5b63b5a6.chunk.js.map